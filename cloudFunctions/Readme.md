## 最新状態同期関数
### トリガーURL
https://us-central1-forestiot.cloudfunctions.net/function-1 
### 概要
- LIFFアプリがデバイスから備品貸出の最新状態を受信するタイミングで動作する。
- kintoneに備品の貸出状態を送信し、最新状態を示すレコードを更新する。

### Kintoneアプリ（保存先テーブル）のスキーマ 
（1件のみのレコードを事前に作成しておく）

|フィールドコード|種類|
|:---|:---|
|usb1|文字列（1行）|
|usb2|文字列（1行）|
|usb3|文字列（1行）|

## 履歴管理関数
### トリガーURL
https://us-central1-forestiot.cloudfunctions.net/function-1 
### 概要
- FREE-USEDボタン押下のタイミングで利用ユーザIDと借用宣言した備品IDを受信する。
- kintoneに利用ユーザIDと備品IDを送信し、履歴レコードを追加する。

### Kintoneアプリ（保存先テーブル）のスキーマ 

|フィールドコード|種類|
|---|---|
|usb_id|文字列（1行）|
|user|文字列（1行）|


## 共通でやること

自身で用意したKintoneのアプリに合わせて
以下の3つを書き換えて利用する。
- <\<host>>　　　　　…Kintoneのホスト名
- <\<kintone-app-id>>…アプリ（保存先テーブル）のID
- <\<api-token>>　　 …アプリの設定画面で発行するAPIトークン

トリガーURLはLIFFAPPのコードから、該当箇所を検索可能にするために記載している。
自身で用意したCloud Functionsに載せて利用すること。

### ハマったところ
- フィールド名とフィールドコードは別である。 利用するのはフィールドコード。
- APIトークンの発行やフィールドの変更などを実施した場合は「アプリを更新」ボタンを押下するまで反映されない。
